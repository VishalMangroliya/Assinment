<?xml version="1.0" encoding="utf-8"?>

<odoo noupdate="1">

    <record id="module_category_gvp_sadra" model="ir.module.category">
        <field name="name">GVP Sadra</field>
        <field name="sequence">22</field>
    </record>

    <record id="group_school_administration" model="res.groups">
        <field name="name">GVP Administrator</field>
        <field name="category_id" ref="module_category_gvp_sadra"/>
        <field name="users"
               eval="[(4, ref('base.user_root')),(4, ref('base.user_admin'))]"/>
    </record>

    <record id="group_professor" model="res.groups">
        <field name="name">Professor</field>
        <field name="category_id" ref="module_category_gvp_sadra"/>
    </record>

    <record id="group_school_student" model="res.groups">
        <field name="name">School Student</field>
        <field name="category_id" ref="module_category_gvp_sadra"/>
    </record>

    <record id="group_school_parent" model="res.groups">
        <field name="name">Student Parent</field>
        <field name="category_id" ref="module_category_gvp_sadra"/>
    </record>

    <record id="group_is_admission" model="res.groups">
        <field name="name">In Admission</field>
        <field name="category_id" ref="module_category_gvp_sadra"/>
    </record>

    <!-- Rule For Creating Personal School Record As A Teacher, Student & Parent-->
    <record id="rule_personal_school_record" model="ir.rule">
        <field name="name">Rule Personal School Record</field>
        <field name="model_id" ref="model_collage_collage"/>
        <field name="domain_force">['|','|',('company_id.child_ids',
            'child_of', [user.company_id.id]),('company_id', 'child_of',
            [user.company_id.id]),('company_id', '=', False)]
        </field>
        <field name="groups"
               eval="[(4, ref('group_professor')),(4, ref('group_school_student')),(4, ref('group_school_parent'))]"/>
    </record>

    <!-- Rule For Student Profile Record As A Student -->
    <record id="rule_student_profile_record_as_student" model="ir.rule">
        <field name="name">Rule Student Profile Record As A Student</field>
        <field name="model_id" ref="model_student_student"/>
        <field name="global" eval="True"/>
        <field name="domain_force">[('user_id','=',user.id)]</field>
        <field name="groups" eval="[(4, ref('group_school_student'))]"/>
    </record>

    <!-- Rule For Student Profile Record As An Administrator -->
    <record id="rule_student_profile_record_as_admin" model="ir.rule">
        <field name="name">Rule Student Profile Record As An Administrator
        </field>
        <field name="model_id" ref="model_student_student"/>
        <field name="global" eval="True"/>
        <field name="domain_force">
            ['|','|',('company_id.child_ids','child_of',[user.company_id.id]),('company_id','child_of',[user.company_id.id]),('company_id','=',False)]
        </field>
        <field name="groups" eval="[(4, ref('group_school_administration'))]"/>
    </record>

    <!-- Rule For Student Profile Record As A Teacher -->
    <record id="rule_student_profile_record_as_teacher" model="ir.rule">
        <field name="name">Rule Student Profile Record As A Teacher</field>
        <field name="model_id" ref="model_student_student"/>
        <field name="global" eval="True"/>
        <field name="domain_force">[('company_id','=',user.company_id.id)]
        </field>
        <field name="groups" eval="[(4, ref('group_professor'))]"/>
    </record>

    <record id="rule_student_profile_record_as_parent" model="ir.rule">
        <field name="name">Rule Student Profile Record As A Parent</field>
        <field name="model_id" ref="model_student_student"/>
        <field name="global" eval="True"/>
        <field name="domain_force">
            [('parent_id.partner_id','=',user.partner_id.id)]
        </field>
        <field name="groups" eval="[(4, ref('group_school_parent'))]"/>
    </record>

    <!-- Rule For Student Profile Record in Adminssion -->
    <record id="rule_student_profile_record_as_student_in_admisssion"
            model="ir.rule">
        <field name="name">Rule Student Profile Record As A Student for in
            Adminssion
        </field>
        <field name="model_id" ref="model_student_student"/>
        <field name="global" eval="True"/>
        <field name="domain_force">[('user_id','=',user.id)]</field>
        <field name="groups" eval="[(4, ref('group_is_admission'))]"/>
    </record>

    <!-- Rule For HR Employee -->
    <record id="students_admission_rule_employee" model="ir.rule">
        <field name="name">Students Admission Rule HR Employee</field>
        <field name="model_id" ref="hr.model_hr_employee"/>
        <field name="domain_force">[('user_id', '=', user.id)]
        </field>
        <field name="groups"
               eval="[(4, ref('group_professor'))]"/>
    </record>


</odoo>
